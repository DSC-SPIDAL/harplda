--------------------------------------------------------------------------
WARNING: No preset parameters were found for the device that Open MPI
detected:

  Local host:            t-004
  Device name:           hfi1_0
  Device vendor ID:      0x1175
  Device vendor part ID: 9457

Default device parameters will be used, which may result in lower
performance.  You can edit any of the files specified by the
btl_openib_device_param_files MCA parameter to set values for your
device.

NOTE: You can turn off this warning by setting the MCA parameter
      btl_openib_warn_no_device_params_found to 0.
--------------------------------------------------------------------------
@@@@@@@@@@@@@@@@@@@@@@@@@@@ M MAX PEND : 500 init count  0 @@@@@@@@@@@@@2 
@@@@@@@@@@@@@@@@@@@@@@@@@@@ M MAX PEND : 500 init count  0 @@@@@@@@@@@@@2 
@@@@@@@@@@@@ My rank(2) role (1) [1:coord][0:worker][2:sched]
@@@@@@@@@@@@ My rank(1) role (2) [1:coord][0:worker][2:sched]
[coordinator] nodes[0]->ip (10.55.54.4) id(0)  funcname(default-func) 
[coordinator] nodes[1]->ip (10.55.54.4) id(1)  funcname(default-func) 
[coordinator] nodes[2]->ip (10.55.54.4) id(2)  funcname(default-func) 
I0303 14:52:08.865155 110492 sysparam.hpp:71]  node file  : 
I0303 14:52:08.865712 110492 sysparam.hpp:72]  star file  : 
I0303 14:52:08.865741 110492 sysparam.hpp:73]  scheduling : 0
I0303 14:52:08.865770 110492 sysparam.hpp:74]  schedulers : 1
@@@@@@@@@@@@@@@@@@@@@@@@@@@ M MAX PEND : 500 init count  0 @@@@@@@@@@@@@2 
[coordinator] nodes[0]->ip (10.55.54.4) id(0)  funcname(default-func) 
[coordinator] nodes[1]->ip (10.55.54.4) id(1)  funcname(default-func) 
[coordinator] nodes[2]->ip (10.55.54.4) id(2)  funcname(default-func) 
@@@@@@@@ FIND ROLE : Rank(0) schedmach(1) schedmach(1) coordinatemach (2)
@@@@@@@@@@@@ My rank(0) role (0) [1:coord][0:worker][2:sched]
[coordinator] nodes[0]->ip (10.55.54.4) id(0)  funcname(default-func) 
[coordinator] nodes[1]->ip (10.55.54.4) id(1)  funcname(default-func) 
[coordinator] nodes[2]->ip (10.55.54.4) id(2)  funcname(default-func) 
@@@@@@@@@@@@ My rank(1) role (2) [1:coord][0:worker][2:sched]
 Scheduler call fork agent 1 rank  
@@@@@@@@@@@@ My rank(2) role (1) [1:coord][0:worker][2:sched]
 Coordinator call fork agent 2 rank  
@@@@@@@@ FIND ROLE : Rank(0) schedmach(1) schedmach(1) coordinatemach (2)
@@@@@@@@@@@@ My rank(0) role (0) [1:coord][0:worker][2:sched]
 Worker call fork agent ... 0 rank  
I0303 14:52:08.869261 110492 worker.cpp:13] Worker CONSTRUCTOR : 0
I0303 14:52:08.869429 110492 parse_netconf.cpp:40]   Machine ID(Rank): 0 -------------------------- 
I0303 14:52:08.869459 110492 parse_netconf.cpp:42]   IP Address: 10.55.54.4
I0303 14:52:08.869504 110492 parse_netconf.cpp:43]   Rank : 0
I0303 14:52:08.869289 110494 coordinator.cpp:13] coordinator CONSTRUCTOR : 2
I0303 14:52:08.869271 110493 scheduler.cpp:11] Scheduler CONSTRUCTOR : 1
I0303 14:52:08.869537 110492 parse_netconf.cpp:40]   Machine ID(Rank): 1 -------------------------- 
I0303 14:52:08.869561 110492 parse_netconf.cpp:42]   IP Address: 10.55.54.4
I0303 14:52:08.869585 110492 parse_netconf.cpp:43]   Rank : 1
I0303 14:52:08.869639 110492 parse_netconf.cpp:40]   Machine ID(Rank): 2 -------------------------- 
I0303 14:52:08.869666 110492 parse_netconf.cpp:42]   IP Address: 10.55.54.4
I0303 14:52:08.869691 110492 parse_netconf.cpp:43]   Rank : 2
I0303 14:52:08.900317 110492 strads_init.cpp:86] Rank (0)'s IP found in node file 10.55.54.4
I0303 14:52:08.900504 110492 parse_netconf.cpp:105]   PS Machine ID(Rank): 0 -------------------------- 
I0303 14:52:08.900530 110492 parse_netconf.cpp:107] PS  IP Address: 10.55.54.4
I0303 14:52:08.900550 110492 parse_netconf.cpp:108] PS  Rank : 0
I0303 14:52:08.900570 110492 parse_netconf.cpp:105]   PS Machine ID(Rank): 1 -------------------------- 
I0303 14:52:08.900589 110492 parse_netconf.cpp:107] PS  IP Address: 10.55.54.4
I0303 14:52:08.900652 110492 parse_netconf.cpp:108] PS  Rank : 1
I0303 14:52:08.900764 110492 parse_netconf.cpp:140] @@ PS Link: 0 -------------------------- 
I0303 14:52:08.900789 110492 parse_netconf.cpp:142] PS src node: 0src port: 47010
I0303 14:52:08.900810 110492 parse_netconf.cpp:143] PS dst node: 1dst port: 38010
I0303 14:52:08.900830 110492 parse_netconf.cpp:140] @@ PS Link: 1 -------------------------- 
I0303 14:52:08.900849 110492 parse_netconf.cpp:142] PS src node: 1src port: 47011
I0303 14:52:08.900869 110492 parse_netconf.cpp:143] PS dst node: 0dst port: 38011
[*****] ps configuration files(node/link) are parsed
############################## rank(0) role(0) 
I0303 14:52:08.901077 110492 parse_netconf.cpp:76] @@ Link: 0 -------------------------- 
I0303 14:52:08.901101 110492 parse_netconf.cpp:78] src node: 2src port: 47000
I0303 14:52:08.901121 110492 parse_netconf.cpp:79] dst node: 0dst port: 38000
I0303 14:52:08.901141 110492 parse_netconf.cpp:76] @@ Link: 1 -------------------------- 
I0303 14:52:08.901160 110492 parse_netconf.cpp:78] src node: 2src port: 47001
I0303 14:52:08.901180 110492 parse_netconf.cpp:79] dst node: 1dst port: 38001
I0303 14:52:08.901199 110492 parse_netconf.cpp:76] @@ Link: 2 -------------------------- 
I0303 14:52:08.901218 110492 parse_netconf.cpp:78] src node: 0src port: 47002
I0303 14:52:08.901237 110492 parse_netconf.cpp:79] dst node: 2dst port: 38002
I0303 14:52:08.901257 110492 parse_netconf.cpp:76] @@ Link: 3 -------------------------- 
I0303 14:52:08.901275 110492 parse_netconf.cpp:78] src node: 1src port: 47003
I0303 14:52:08.901294 110492 parse_netconf.cpp:79] dst node: 2dst port: 38003
@@@@@@@@ FIND ROLE : Rank(0) schedmach(1) schedmach(1) coordinatemach (2)
@@@@@@@@@@@@ My rank(0) role (0) [1:coord][0:worker][2:sched]
I0303 14:52:08.910056 110494 strads_init.cpp:86] Rank (2)'s IP found in node file 10.55.54.4
I0303 14:52:08.910056 110493 strads_init.cpp:86] Rank (1)'s IP found in node file 10.55.54.4
[*****] ps configuration files(node/link) are parsed
############################## rank(1) role(2) 
[*****] ps configuration files(node/link) are parsed
############################## rank(2) role(1) 
@@@@@@@@@@@@ My rank(2) role (1) [1:coord][0:worker][2:sched]
@@@@@@@@@@@@ My rank(1) role (2) [1:coord][0:worker][2:sched]
Coordinator rank 2 open a porttcp://*:47000 FOR SEND PORT -- ptr to zmqsocket(0x1287590) RCVHWM(1000) SNDHWM(5000)
Coordinator rank 2 open a porttcp://*:47001 FOR SEND PORT -- ptr to zmqsocket(0x1287570) RCVHWM(1000) SNDHWM(5000)
@@@@@@@ Coordinator rank 2 open a porttcp://*:38002 FOR RECEIVE PORT -- ptr to zmqsocket(0x1287c60) HWM(5000)
@@@@@@@ Coordinator rank 2 open a porttcp://*:38003 FOR RECEIVE PORT -- ptr to zmqsocket(0x1287c70) HWM(5000)
[Coordinator] Open ports and start hands shaking worker_recvportsize(1) worker_sendportsize(1)
Coordinator -- wait for 0th worker RECV out of  1  pport(0x1287c60)
RANK rank 0 CONNECT a port  tcp://10.55.54.4:47000 FOR RECEIVE PORT -- ptr to socket(0x20d7590) HWM(5000) 
Rank 0 CONNECT a porttcp://10.55.54.4:38002 FOR SEND PORT -- ptr to socket(0x20d7570) 
Rank(0) Send HB to SEND PORT ptr -- socket(0x20d7570) 
[Coordinator @@@@@] finish worker recv port confirm 
Coordinator -- wait for 0th worker SENDPORT out of  1  pport(0x1287590)
[Rank 0] got confirm for RECV PORT 
Rank(0) Send HB to RECV PORT ptr -- socket(0x20d7590) 
[Coordinator @@@@@] finish worker send port confirm 
Coordinator -- wait for 0th scheduler RECVPORT out of  1  pport(0x1287c70)
[Rank 0] got confirm for SEND PORT 
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ finish create starring ethernet by rank (0)
RANK rank 1 CONNECT a port  tcp://10.55.54.4:47001 FOR RECEIVE PORT -- ptr to socket(0x2d1b590) HWM(5000) 
Rank 1 CONNECT a porttcp://10.55.54.4:38003 FOR SEND PORT -- ptr to socket(0x2d1b570) 
Rank(1) Send HB to SEND PORT ptr -- socket(0x2d1b570) 
[Coordinator @@@@@] finish scheduler recv port confirm 
Coordinator -- wait for 0th scheduler SENDPORT out of  1  pport(0x1287570)
Rank(1) Send HB to RECV PORT ptr -- socket(0x2d1b590) 
[Rank 1] got confirm for RECV PORT 
[Coordinator @@@@@] finish scheduler send port confirm 
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ finish create starring ethernet by rank (2)
[Rank 1] got confirm for SEND PORT 
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ finish create starring ethernet by rank (1)



[ Ring worker ring ] start



[ Ring worker ring ] start
@@@@@@@@@@@@ My rank(1) role (2) [1:coord][0:worker][2:sched]
I0303 14:52:10.915801 110492 parse_netconf.cpp:76] @@ Link: 0 -------------------------- 
I0303 14:52:10.915863 110492 parse_netconf.cpp:78] src node: 1src port: 47004
I0303 14:52:10.915895 110492 parse_netconf.cpp:79] dst node: 2dst port: 38004
I0303 14:52:10.915930 110492 parse_netconf.cpp:76] @@ Link: 1 -------------------------- 
I0303 14:52:10.915961 110492 parse_netconf.cpp:78] src node: 2src port: 47005
I0303 14:52:10.915993 110492 parse_netconf.cpp:79] dst node: 1dst port: 38005
I0303 14:52:10.916028 110492 parse_netconf.cpp:76] @@ Link: 2 -------------------------- 
I0303 14:52:10.916060 110492 parse_netconf.cpp:78] src node: 2src port: 47006
I0303 14:52:10.916092 110492 parse_netconf.cpp:79] dst node: 0dst port: 38006
I0303 14:52:10.916126 110492 parse_netconf.cpp:76] @@ Link: 3 -------------------------- 
I0303 14:52:10.916185 110492 parse_netconf.cpp:78] src node: 0src port: 47007
I0303 14:52:10.916218 110492 parse_netconf.cpp:79] dst node: 2dst port: 38007
@@@@@@@@@@@@ My rank(2) role (1) [1:coord][0:worker][2:sched]
Rank 2 CONNECT a porttcp://10.55.54.4:38006 FOR SEND PORT -- ptr to socket(0x1287c50) 
I0303 14:52:10.916246 110492 parse_netconf.cpp:76] @@ Link: 4 -------------------------- 
I0303 14:52:10.916277 110492 parse_netconf.cpp:78] src node: 0src port: 47008
I0303 14:52:10.916311 110492 parse_netconf.cpp:79] dst node: 2dst port: 38008
I0303 14:52:10.916342 110492 parse_netconf.cpp:76] @@ Link: 5 -------------------------- 
I0303 14:52:10.916370 110492 parse_netconf.cpp:78] src node: 2src port: 47009
I0303 14:52:10.916401 110492 parse_netconf.cpp:79] dst node: 0dst port: 38009



[ Ring worker ring ] start
@@@@@@@ Coordinator rank 2 open a porttcp://*:38007 FOR RECEIVE PORT -- ptr to zmqsocket(0x1287c40) HWM(5000)
@@@@@@@@ FIND ROLE : Rank(0) schedmach(1) schedmach(1) coordinatemach (2)
@@@@@@@@@@@@ My rank(0) role (0) [1:coord][0:worker][2:sched]
@@@@@@@ Coordinator rank 2 open a porttcp://*:38008 FOR RECEIVE PORT -- ptr to zmqsocket(0x1287c30) HWM(5000)
Rank 2 CONNECT a porttcp://10.55.54.4:38009 FOR SEND PORT -- ptr to socket(0x1287c20) 
ctx->rank 2 breaks rules :  pshctx->ring_sendportmap.size() : 1 
ldall: /N/u/pengb/hpda/petuum/strads/src/strads/netdriver/zmq/zmq-common.cpp:1138: void create_ringworker_ethernet_aux(sharedctx*, zmq::context_t&, int, std::string&): Assertion `pshctx->ring_sendportmap.size() == 2' failed.
*** Aborted at 1488570730 (unix time) try "date -d @1488570730" if you are using GNU date ***
PC: @     0x7f68e119c5f7 __GI_raise
*** SIGABRT (@0x44d0001af9e) received by PID 110494 (TID 0x7f68e3e26780) from PID 110494; stack trace: ***
    @     0x7f68e1537100 (unknown)
    @     0x7f68e119c5f7 __GI_raise
    @     0x7f68e119dce8 __GI_abort
    @     0x7f68e1195566 __assert_fail_base
    @     0x7f68e1195612 __GI___assert_fail
    @           0x439eb2 create_ringworker_ethernet_aux()
    @           0x4302f1 strads_init()
    @           0x40d940 main
    @     0x7f68e1188b15 __libc_start_main
    @           0x40e8bd (unknown)
*** Aborted at 1488570731 (unix time) try "date -d @1488570731" if you are using GNU date ***
PC: @     0x7fdf06ff8c8d mca_pml_ob1_progress
*** SIGTERM (@0x44d0001af90) received by PID 110493 (TID 0x7fdf0f2b5780) from PID 110480; stack trace: ***
    @     0x7fdf0c9c6100 (unknown)
    @     0x7fdf06ff8c8d mca_pml_ob1_progress
    @     0x7fdf0d9420ea opal_progress
    @     0x7fdf0dec0425 ompi_request_default_wait_all
    @     0x7fdf06154b08 ompi_coll_tuned_barrier_intra_bruck
    @     0x7fdf0ded74e6 PMPI_Barrier
    @           0x439ba0 create_ringworker_ethernet_aux()
    @           0x4302f1 strads_init()
    @           0x40d940 main
    @     0x7fdf0c617b15 __libc_start_main
    @           0x40e8bd (unknown)
*** Aborted at 1488570731 (unix time) try "date -d @1488570731" if you are using GNU date ***
PC: @     0x7f3fa8cb042d __GI_nanosleep
*** SIGTERM (@0x44d0001af90) received by PID 110492 (TID 0x7f3fab8b2780) from PID 110480; stack trace: ***
    @     0x7f3fa8fc3100 (unknown)
    @     0x7f3fa8cb042d __GI_nanosleep
    @     0x7f3fa8cb02c4 __sleep
    @           0x438e10 create_ringworker_ethernet_aux()
    @           0x4302f1 strads_init()
    @           0x40d940 main
    @     0x7f3fa8c14b15 __libc_start_main
    @           0x40e8bd (unknown)
--------------------------------------------------------------------------
mpirun noticed that process rank 2 with PID 0 on node t-004 exited on signal 6 (Aborted).
--------------------------------------------------------------------------
[t-006:140938] 2 more processes have sent help message help-mpi-btl-openib.txt / no device params found
[t-006:140938] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages
