<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Y!LDA: WordIndexDictionary Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>WordIndexDictionary Class Reference</h1><!-- doxytag: class="WordIndexDictionary" -->
<p>A two way dictionary of words to indices.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_word_index_dictionary_8h_source.html">WordIndexDictionary.h</a>&gt;</code></p>

<p><a href="class_word_index_dictionary-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a25019e66f8c3c6e1adba40157abf69bc">WordIndexDictionary</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a6e3ee8eeacf9ace4757f4f345e519e30">~WordIndexDictionary</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a683dcfdc3714b73402a3e331db88e33a">get_index</a> (string word)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a58ab80daf59d8bad6cd105166c3feb8b">get_word</a> (int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a1aef628d50e42417dd1099598687c848">insert_word</a> (string word)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#aa4e879ad400d0b35a5fbfb358d3bf8e2">get_num_words</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a4781b2b79231219cb3ecbe59e8adb483">print</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#aaadc560c3572f6e3006212d9b56c32b2">match_word_index</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a5263558f64f5890577e795ccd2834a5b">dump</a> (string fname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a415c20e6f67555c105cdc4da3abe730f">initialize_from_dict</a> (<a class="el" href="class_word_index_dictionary.html">WordIndexDictionary</a> *dict, bool sort=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#abbc261e4c314aace9917fcb5c5ec127f">initialize_from_dump</a> (string fname, int num_words=INT_MAX, bool sort=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a83c3a82b71ffec88dee7b58c01234de0">initialize_from_dumps</a> (string prefix, int dumps)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#ad2cc989f8d453e0353cc6de8e73d4aa0">size</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#a834b4657d8c84ed3051c23668e2fe607">get_prev_index</a> (int new_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#af81362ed63cf02ef2722ff3087e01ac8">get_freq</a> (int index)</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; id2freq_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_word_index_dictionary.html#abcff7bfd6b63bf0a14ba38bf8bb7be9f">frequencies</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A two way dictionary of words to indices. </p>
<p>Provides a two way dictionary mapping words as strings to a unique int index and vice versa. The hashtable implementation of boost/unordered_map is used. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a25019e66f8c3c6e1adba40157abf69bc"></a><!-- doxytag: member="WordIndexDictionary::WordIndexDictionary" ref="a25019e66f8c3c6e1adba40157abf69bc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WordIndexDictionary::WordIndexDictionary </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an empty dictionary </p>

</div>
</div>
<a class="anchor" id="a6e3ee8eeacf9ace4757f4f345e519e30"></a><!-- doxytag: member="WordIndexDictionary::~WordIndexDictionary" ref="a6e3ee8eeacf9ace4757f4f345e519e30" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WordIndexDictionary::~WordIndexDictionary </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5263558f64f5890577e795ccd2834a5b"></a><!-- doxytag: member="WordIndexDictionary::dump" ref="a5263558f64f5890577e795ccd2834a5b" args="(string fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WordIndexDictionary::dump </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>fname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dumps the dictionary onto disk in protobuffer binary format so that a new dictionary can be intialized later from the dump using initialize_from_dump Also the dump does batch write to disk to optimize io. Batches 1000 (word,index) pairs and then writes them to disk using <a class="el" href="class_document_writer.html">DocumentWriter</a> </p>

</div>
</div>
<a class="anchor" id="af81362ed63cf02ef2722ff3087e01ac8"></a><!-- doxytag: member="WordIndexDictionary::get_freq" ref="af81362ed63cf02ef2722ff3087e01ac8" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WordIndexDictionary::get_freq </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a683dcfdc3714b73402a3e331db88e33a"></a><!-- doxytag: member="WordIndexDictionary::get_index" ref="a683dcfdc3714b73402a3e331db88e33a" args="(string word)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WordIndexDictionary::get_index </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>word</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the unique index assigned to word </p>

</div>
</div>
<a class="anchor" id="aa4e879ad400d0b35a5fbfb358d3bf8e2"></a><!-- doxytag: member="WordIndexDictionary::get_num_words" ref="aa4e879ad400d0b35a5fbfb358d3bf8e2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WordIndexDictionary::get_num_words </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a834b4657d8c84ed3051c23668e2fe607"></a><!-- doxytag: member="WordIndexDictionary::get_prev_index" ref="a834b4657d8c84ed3051c23668e2fe607" args="(int new_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WordIndexDictionary::get_prev_index </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>new_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a58ab80daf59d8bad6cd105166c3feb8b"></a><!-- doxytag: member="WordIndexDictionary::get_word" ref="a58ab80daf59d8bad6cd105166c3feb8b" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string WordIndexDictionary::get_word </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the word having index as its index </p>

</div>
</div>
<a class="anchor" id="a415c20e6f67555c105cdc4da3abe730f"></a><!-- doxytag: member="WordIndexDictionary::initialize_from_dict" ref="a415c20e6f67555c105cdc4da3abe730f" args="(WordIndexDictionary *dict, bool sort=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WordIndexDictionary::initialize_from_dict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_word_index_dictionary.html">WordIndexDictionary</a> *&nbsp;</td>
          <td class="paramname"> <em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>sort</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abbc261e4c314aace9917fcb5c5ec127f"></a><!-- doxytag: member="WordIndexDictionary::initialize_from_dump" ref="abbc261e4c314aace9917fcb5c5ec127f" args="(string fname, int num_words=INT_MAX, bool sort=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WordIndexDictionary::initialize_from_dump </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_words</em> = <code>INT_MAX</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>sort</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes from a dump file produced by dump Reads the (word,index) pairs from the file &amp; populates the maps </p>

</div>
</div>
<a class="anchor" id="a83c3a82b71ffec88dee7b58c01234de0"></a><!-- doxytag: member="WordIndexDictionary::initialize_from_dumps" ref="a83c3a82b71ffec88dee7b58c01234de0" args="(string prefix, int dumps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WordIndexDictionary::initialize_from_dumps </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dumps</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1aef628d50e42417dd1099598687c848"></a><!-- doxytag: member="WordIndexDictionary::insert_word" ref="a1aef628d50e42417dd1099598687c848" args="(string word)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WordIndexDictionary::insert_word </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>word</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Insert the word into the dictionary if it doesn't exist This automatically manages assigning unique indices </p>

</div>
</div>
<a class="anchor" id="aaadc560c3572f6e3006212d9b56c32b2"></a><!-- doxytag: member="WordIndexDictionary::match_word_index" ref="aaadc560c3572f6e3006212d9b56c32b2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WordIndexDictionary::match_word_index </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is a method aiding testing. This tests for the uniqueness of indices. It also does this by making the assumption that the indices have to sequential and reduces the complexity of testing uniqueness by checking the actual sum of the indices assigned to the expected sum comuted as sigma(last_index_assigned) Should always return true. If you change the logic for assigning unique indices, make sure you modify this method to verify it. </p>

</div>
</div>
<a class="anchor" id="a4781b2b79231219cb3ecbe59e8adb483"></a><!-- doxytag: member="WordIndexDictionary::print" ref="a4781b2b79231219cb3ecbe59e8adb483" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WordIndexDictionary::print </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Log the dictionary to log(INFO) </p>

</div>
</div>
<a class="anchor" id="ad2cc989f8d453e0353cc6de8e73d4aa0"></a><!-- doxytag: member="WordIndexDictionary::size" ref="ad2cc989f8d453e0353cc6de8e73d4aa0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t WordIndexDictionary::size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="abcff7bfd6b63bf0a14ba38bf8bb7be9f"></a><!-- doxytag: member="WordIndexDictionary::frequencies" ref="abcff7bfd6b63bf0a14ba38bf8bb7be9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;id2freq_t&gt; <a class="el" href="class_word_index_dictionary.html#abcff7bfd6b63bf0a14ba38bf8bb7be9f">WordIndexDictionary::frequencies</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/commons/<a class="el" href="_word_index_dictionary_8h_source.html">WordIndexDictionary.h</a></li>
<li>src/commons/<a class="el" href="_word_index_dictionary_8cpp.html">WordIndexDictionary.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Jul 19 11:45:30 2011 for Y!LDA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
